version: "3.8"

services:
  bookstore-web:
    image: ${PROJECT_NAME}-bookstore-web:${ENV:-latest}
    container_name: ${PROJECT_NAME}-${ENV}-bookstore-web
    build:
      context: services/bookstore-web
      dockerfile: ./Dockerfile.${ENV}
    volumes:
      - ./services/bookstore-web:/app
      - ./services/bookstore-web/node_modules:/app/node_modules
    ports:
      - 3000:3000

  products-api:
    image: ${PROJECT_NAME}-products-api:${ENV:-latest}
    container_name: ${PROJECT_NAME}-${ENV}-products-api
    build:
      context: .
      dockerfile: services/products/PRODUCTS.API/Dockerfile
    ports:
      - 5012:5012
